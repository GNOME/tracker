/* tracker-store.c generated by valac 0.40.8, the Vala compiler
 * generated from tracker-store.vala, do not modify */

/*
 * Copyright (C) 2009-2011, Nokia <ivan.frade@nokia.com>
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation; either
 * version 2 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public
 * License along with this library; if not, write to the
 * Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 * Boston, MA  02110-1301, USA.
 *
 * Author: Philip Van Hoof <philip@codeminded.be>
 */


#include <glib.h>
#include <glib-object.h>
#include "tracker-store/tracker-config.h"
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>
#include "libtracker-data/tracker-class.h"
#include "tracker-store/tracker-events.h"
#include "libtracker-sparql/tracker-generated-no-checks.h"
#include "tracker-store/tracker-writeback.h"
#include "libtracker-direct/tracker-direct.h"
#include "libtracker-data/tracker-data-manager.h"
#include "libtracker-data/tracker-data-query.h"
#include "libtracker-data/tracker-data-update.h"
#include <gobject/gvaluecollector.h>


#define TRACKER_TYPE_STORE (tracker_store_get_type ())
#define TRACKER_STORE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TRACKER_TYPE_STORE, TrackerStore))
#define TRACKER_STORE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TRACKER_TYPE_STORE, TrackerStoreClass))
#define TRACKER_IS_STORE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TRACKER_TYPE_STORE))
#define TRACKER_IS_STORE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TRACKER_TYPE_STORE))
#define TRACKER_STORE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TRACKER_TYPE_STORE, TrackerStoreClass))

typedef struct _TrackerStore TrackerStore;
typedef struct _TrackerStoreClass TrackerStoreClass;
typedef struct _TrackerStorePrivate TrackerStorePrivate;

#define TRACKER_STORE_TYPE_CURSOR_TASK (tracker_store_cursor_task_get_type ())
#define TRACKER_STORE_CURSOR_TASK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TRACKER_STORE_TYPE_CURSOR_TASK, TrackerStoreCursorTask))
#define TRACKER_STORE_CURSOR_TASK_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TRACKER_STORE_TYPE_CURSOR_TASK, TrackerStoreCursorTaskClass))
#define TRACKER_STORE_IS_CURSOR_TASK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TRACKER_STORE_TYPE_CURSOR_TASK))
#define TRACKER_STORE_IS_CURSOR_TASK_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TRACKER_STORE_TYPE_CURSOR_TASK))
#define TRACKER_STORE_CURSOR_TASK_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TRACKER_STORE_TYPE_CURSOR_TASK, TrackerStoreCursorTaskClass))

typedef struct _TrackerStoreCursorTask TrackerStoreCursorTask;
typedef struct _TrackerStoreCursorTaskClass TrackerStoreCursorTaskClass;
#define _tracker_store_cursor_task_unref0(var) ((var == NULL) ? NULL : (var = (tracker_store_cursor_task_unref (var), NULL)))
typedef struct _Block7Data Block7Data;
typedef struct _TrackerStoreCursorTaskPrivate TrackerStoreCursorTaskPrivate;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _g_hash_table_unref0(var) ((var == NULL) ? NULL : (var = (g_hash_table_unref (var), NULL)))
#define _g_thread_pool_free0(var) ((var == NULL) ? NULL : (var = (g_thread_pool_free (var, FALSE, TRUE), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
typedef struct _Block8Data Block8Data;
typedef struct _Block9Data Block9Data;
typedef struct _TrackerStoreSparqlQueryData TrackerStoreSparqlQueryData;
typedef struct _TrackerStoreSparqlUpdateData TrackerStoreSparqlUpdateData;
#define _g_variant_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_unref (var), NULL)))
typedef struct _TrackerStoreSparqlUpdateBlankData TrackerStoreSparqlUpdateBlankData;
typedef struct _TrackerStoreQueueTurtleImportData TrackerStoreQueueTurtleImportData;
typedef struct _TrackerStorePauseData TrackerStorePauseData;
typedef struct _TrackerStoreParamSpecCursorTask TrackerStoreParamSpecCursorTask;
typedef struct _TrackerParamSpecStore TrackerParamSpecStore;

struct _TrackerStore {
	GTypeInstance parent_instance;
	volatile int ref_count;
	TrackerStorePrivate * priv;
};

struct _TrackerStoreClass {
	GTypeClass parent_class;
	void (*finalize) (TrackerStore *self);
};

typedef void (*TrackerStoreSignalEmissionFunc) (GHashTable* graph_updated, GHashTable* writeback, gpointer user_data);
typedef void (*TrackerStoreStateCallback) (gpointer user_data);
struct _Block7Data {
	int _ref_count_;
	TrackerStoreCursorTask* task;
};

typedef void (*TrackerStoreSparqlQueryInThread) (TrackerSparqlCursor* cursor, gpointer user_data, GError** error);
struct _TrackerStoreCursorTask {
	GTypeInstance parent_instance;
	volatile int ref_count;
	TrackerStoreCursorTaskPrivate * priv;
	TrackerSparqlCursor* cursor;
	GSourceFunc callback;
	gpointer callback_target;
	TrackerStoreSparqlQueryInThread thread_func;
	gpointer thread_func_target;
	GError* error;
};

struct _TrackerStoreCursorTaskClass {
	GTypeClass parent_class;
	void (*finalize) (TrackerStoreCursorTask *self);
};

struct _Block8Data {
	int _ref_count_;
	GCancellable* task_cancellable;
};

struct _Block9Data {
	int _ref_count_;
	GCancellable* cancellable;
	guint timeout_id;
	gpointer _async_data_;
};

struct _TrackerStoreSparqlQueryData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GAsyncReadyCallback _callback_;
	gboolean _task_complete_;
	TrackerDirectConnection* conn;
	gchar* sparql;
	gint priority;
	TrackerStoreSparqlQueryInThread in_thread;
	gpointer in_thread_target;
	gchar* client_id;
	Block9Data* _data9_;
	GCancellable* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	TrackerSparqlCursor* cursor;
	GCancellable* _tmp3_;
	TrackerSparqlCursor* _tmp4_;
	guint _tmp5_;
	guint _tmp6_;
	TrackerStoreCursorTask* task;
	TrackerSparqlCursor* _tmp7_;
	TrackerStoreCursorTask* _tmp8_;
	TrackerStoreCursorTask* _tmp9_;
	TrackerStoreCursorTask* _tmp10_;
	GThreadPool* _tmp11_;
	TrackerStoreCursorTask* _tmp12_;
	TrackerStoreCursorTask* _tmp13_;
	GError* e;
	TrackerStoreCursorTask* _tmp14_;
	GError* _tmp15_;
	TrackerStoreCursorTask* _tmp16_;
	GError* _tmp17_;
	GError* _tmp18_;
	GError * _inner_error_;
};

struct _TrackerStoreSparqlUpdateData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GAsyncReadyCallback _callback_;
	gboolean _task_complete_;
	TrackerDirectConnection* conn;
	gchar* sparql;
	gint priority;
	gchar* client_id;
	gboolean _tmp0_;
	GError* _tmp1_;
	GCancellable* cancellable;
	GCancellable* _tmp2_;
	GError * _inner_error_;
};

struct _TrackerStoreSparqlUpdateBlankData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GAsyncReadyCallback _callback_;
	gboolean _task_complete_;
	TrackerDirectConnection* conn;
	gchar* sparql;
	gint priority;
	gchar* client_id;
	GVariant* result;
	gboolean _tmp0_;
	GError* _tmp1_;
	GCancellable* cancellable;
	GCancellable* _tmp2_;
	GVariant* nodes;
	GVariant* _tmp3_;
	GError * _inner_error_;
};

struct _TrackerStoreQueueTurtleImportData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GAsyncReadyCallback _callback_;
	gboolean _task_complete_;
	TrackerDirectConnection* conn;
	GFile* file;
	gchar* client_id;
	gboolean _tmp0_;
	GError* _tmp1_;
	GCancellable* cancellable;
	GCancellable* _tmp2_;
	GError * _inner_error_;
};

struct _TrackerStorePauseData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GAsyncReadyCallback _callback_;
	gboolean _task_complete_;
	TrackerDirectConnection* sparql_conn;
	TrackerDirectConnection* _tmp0_;
	TrackerDirectConnection* _tmp1_;
};

struct _TrackerStoreParamSpecCursorTask {
	GParamSpec parent_instance;
};

struct _TrackerParamSpecStore {
	GParamSpec parent_instance;
};


static gpointer tracker_store_parent_class = NULL;
static gint tracker_store_max_task_time;
static gint tracker_store_max_task_time = 0;
static gboolean tracker_store_active;
static gboolean tracker_store_active = FALSE;
static TrackerConfig* tracker_store_config;
static TrackerConfig* tracker_store_config = NULL;
static guint tracker_store_signal_timeout;
static guint tracker_store_signal_timeout = 0U;
static gint tracker_store_n_updates;
static gint tracker_store_n_updates = 0;
static GHashTable* tracker_store_client_cancellables;
static GHashTable* tracker_store_client_cancellables = NULL;
static TrackerStoreSignalEmissionFunc tracker_store_signal_callback;
static gpointer tracker_store_signal_callback_target;
static TrackerStoreSignalEmissionFunc tracker_store_signal_callback = NULL;
static gpointer tracker_store_signal_callback_target = NULL;
static TrackerStoreStateCallback tracker_store_idle_cb;
static gpointer tracker_store_idle_cb_target;
static TrackerStoreStateCallback tracker_store_idle_cb = NULL;
static gpointer tracker_store_idle_cb_target = NULL;
static TrackerStoreStateCallback tracker_store_busy_cb;
static gpointer tracker_store_busy_cb_target;
static TrackerStoreStateCallback tracker_store_busy_cb = NULL;
static gpointer tracker_store_busy_cb_target = NULL;
static gboolean tracker_store_busy;
static gboolean tracker_store_busy = FALSE;
static GThreadPool* tracker_store_cursor_pool;
static GThreadPool* tracker_store_cursor_pool = NULL;
static gpointer tracker_store_cursor_task_parent_class = NULL;

gpointer tracker_store_ref (gpointer instance);
void tracker_store_unref (gpointer instance);
GParamSpec* tracker_param_spec_store (const gchar* name,
                                      const gchar* nick,
                                      const gchar* blurb,
                                      GType object_type,
                                      GParamFlags flags);
void tracker_value_set_store (GValue* value,
                              gpointer v_object);
void tracker_value_take_store (GValue* value,
                               gpointer v_object);
gpointer tracker_value_get_store (const GValue* value);
GType tracker_store_get_type (void) G_GNUC_CONST;
static gpointer tracker_store_cursor_task_ref (gpointer instance);
static void tracker_store_cursor_task_unref (gpointer instance);
static GParamSpec* tracker_store_param_spec_cursor_task (const gchar* name,
                                                  const gchar* nick,
                                                  const gchar* blurb,
                                                  GType object_type,
                                                  GParamFlags flags) G_GNUC_UNUSED;
static void tracker_store_value_set_cursor_task (GValue* value,
                                          gpointer v_object) G_GNUC_UNUSED;
static void tracker_store_value_take_cursor_task (GValue* value,
                                           gpointer v_object) G_GNUC_UNUSED;
static gpointer tracker_store_value_get_cursor_task (const GValue* value) G_GNUC_UNUSED;
static GType tracker_store_cursor_task_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
#define TRACKER_STORE_MAX_CONCURRENT_QUERIES 2
#define TRACKER_STORE_MAX_TASK_TIME 30
#define TRACKER_STORE_GRAPH_UPDATED_IMMEDIATE_EMIT_AT 50000
static void tracker_store_cursor_dispatch_cb (TrackerStoreCursorTask* task);
static Block7Data* block7_data_ref (Block7Data* _data7_);
static void block7_data_unref (void * _userdata_);
static gboolean __lambda6_ (Block7Data* _data7_);
static void tracker_store_update_state (void);
static gboolean ___lambda6__gsource_func (gpointer self);
void tracker_store_init (TrackerConfig* config_p,
                         TrackerStoreStateCallback idle,
                         gpointer idle_target,
                         TrackerStoreStateCallback busy,
                         gpointer busy_target);
static void _g_free0_ (gpointer var);
static void _g_object_unref0_ (gpointer var);
static void _tracker_store_cursor_dispatch_cb_gfunc (gpointer data,
                                              gpointer self);
void tracker_store_shutdown (void);
static GCancellable* tracker_store_create_cancellable (const gchar* client_id);
static Block8Data* block8_data_ref (Block8Data* _data8_);
static void block8_data_unref (void * _userdata_);
static void __lambda7_ (Block8Data* _data8_);
static void ___lambda7__gfunc (gconstpointer data,
                        gpointer self);
static void tracker_store_do_emit_signals (void);
static void tracker_store_ensure_signal_timeout (void);
static gboolean ___lambda8_ (void);
static gboolean ____lambda8__gsource_func (gpointer self);
static void tracker_store_sparql_query_data_free (gpointer _data);
static void tracker_store_sparql_query_async_ready_wrapper (GObject *source_object,
                                                     GAsyncResult *res,
                                                     void *user_data);
void tracker_store_sparql_query (TrackerDirectConnection* conn,
                                 const gchar* sparql,
                                 gint priority,
                                 TrackerStoreSparqlQueryInThread in_thread,
                                 gpointer in_thread_target,
                                 const gchar* client_id,
                                 GAsyncReadyCallback _callback_,
                                 gpointer _user_data_);
void tracker_store_sparql_query_finish (GAsyncResult* _res_,
                                        GError** error);
static gboolean tracker_store_sparql_query_co (TrackerStoreSparqlQueryData* _data_);
static Block9Data* block9_data_ref (Block9Data* _data9_);
static void block9_data_unref (void * _userdata_);
static gboolean ___lambda9_ (Block9Data* _data9_);
static gboolean ____lambda9__gsource_func (gpointer self);
static void tracker_store_sparql_query_ready (GObject* source_object,
                                       GAsyncResult* _res_,
                                       gpointer _user_data_);
static TrackerStoreCursorTask* tracker_store_cursor_task_new (TrackerSparqlCursor* cursor);
static TrackerStoreCursorTask* tracker_store_cursor_task_construct (GType object_type,
                                                             TrackerSparqlCursor* cursor);
static gboolean _tracker_store_sparql_query_co_gsource_func (gpointer self);
static void tracker_store_pre_update (void);
static void tracker_store_post_update (void);
static void tracker_store_sparql_update_data_free (gpointer _data);
static void tracker_store_sparql_update_async_ready_wrapper (GObject *source_object,
                                                      GAsyncResult *res,
                                                      void *user_data);
void tracker_store_sparql_update (TrackerDirectConnection* conn,
                                  const gchar* sparql,
                                  gint priority,
                                  const gchar* client_id,
                                  GAsyncReadyCallback _callback_,
                                  gpointer _user_data_);
void tracker_store_sparql_update_finish (GAsyncResult* _res_,
                                         GError** error);
static gboolean tracker_store_sparql_update_co (TrackerStoreSparqlUpdateData* _data_);
static void tracker_store_sparql_update_ready (GObject* source_object,
                                        GAsyncResult* _res_,
                                        gpointer _user_data_);
static void tracker_store_sparql_update_blank_data_free (gpointer _data);
static void tracker_store_sparql_update_blank_async_ready_wrapper (GObject *source_object,
                                                            GAsyncResult *res,
                                                            void *user_data);
void tracker_store_sparql_update_blank (TrackerDirectConnection* conn,
                                        const gchar* sparql,
                                        gint priority,
                                        const gchar* client_id,
                                        GAsyncReadyCallback _callback_,
                                        gpointer _user_data_);
GVariant* tracker_store_sparql_update_blank_finish (GAsyncResult* _res_,
                                                    GError** error);
static gboolean tracker_store_sparql_update_blank_co (TrackerStoreSparqlUpdateBlankData* _data_);
static void tracker_store_sparql_update_blank_ready (GObject* source_object,
                                              GAsyncResult* _res_,
                                              gpointer _user_data_);
static void tracker_store_queue_turtle_import_data_free (gpointer _data);
static void tracker_store_queue_turtle_import_async_ready_wrapper (GObject *source_object,
                                                            GAsyncResult *res,
                                                            void *user_data);
void tracker_store_queue_turtle_import (TrackerDirectConnection* conn,
                                        GFile* file,
                                        const gchar* client_id,
                                        GAsyncReadyCallback _callback_,
                                        gpointer _user_data_);
void tracker_store_queue_turtle_import_finish (GAsyncResult* _res_,
                                               GError** error);
static gboolean tracker_store_queue_turtle_import_co (TrackerStoreQueueTurtleImportData* _data_);
static void tracker_store_queue_turtle_import_ready (GObject* source_object,
                                              GAsyncResult* _res_,
                                              gpointer _user_data_);
void tracker_store_unreg_batches (const gchar* client_id);
static void tracker_store_pause_data_free (gpointer _data);
static void tracker_store_pause_async_ready_wrapper (GObject *source_object,
                                              GAsyncResult *res,
                                              void *user_data);
void tracker_store_pause (GAsyncReadyCallback _callback_,
                          gpointer _user_data_);
void tracker_store_pause_finish (GAsyncResult* _res_);
static gboolean tracker_store_pause_co (TrackerStorePauseData* _data_);
TrackerDirectConnection* tracker_main_get_sparql_connection (void);
void tracker_store_resume (void);
static void tracker_store_on_statements_committed (void);
static void tracker_store_check_graph_updated_signal (void);
static void tracker_store_on_statements_rolled_back (void);
static gboolean ___lambda10_ (void);
static gboolean ____lambda10__gsource_func (gpointer self);
static void tracker_store_on_statement_inserted (gint graph_id,
                                          const gchar* graph,
                                          gint subject_id,
                                          const gchar* subject,
                                          gint pred_id,
                                          gint object_id,
                                          const gchar* object,
                                          GPtrArray* rdf_types);
static void tracker_store_on_statement_deleted (gint graph_id,
                                         const gchar* graph,
                                         gint subject_id,
                                         const gchar* subject,
                                         gint pred_id,
                                         gint object_id,
                                         const gchar* object,
                                         GPtrArray* rdf_types);
void tracker_store_enable_signals (void);
TrackerDataManager* tracker_main_get_data_manager (void);
static void _tracker_store_on_statement_inserted_tracker_statement_callback (gint graph_id,
                                                                      const gchar* graph,
                                                                      gint subject_id,
                                                                      const gchar* subject,
                                                                      gint predicate_id,
                                                                      gint object_id,
                                                                      const gchar* object,
                                                                      GPtrArray* rdf_types,
                                                                      gpointer self);
static void _tracker_store_on_statement_deleted_tracker_statement_callback (gint graph_id,
                                                                     const gchar* graph,
                                                                     gint subject_id,
                                                                     const gchar* subject,
                                                                     gint predicate_id,
                                                                     gint object_id,
                                                                     const gchar* object,
                                                                     GPtrArray* rdf_types,
                                                                     gpointer self);
static void _tracker_store_on_statements_committed_tracker_commit_callback (gpointer self);
static void _tracker_store_on_statements_rolled_back_tracker_commit_callback (gpointer self);
void tracker_store_disable_signals (void);
void tracker_store_set_signal_callback (TrackerStoreSignalEmissionFunc func,
                                        gpointer func_target);
TrackerStore* tracker_store_new (void);
TrackerStore* tracker_store_construct (GType object_type);
static void tracker_store_cursor_task_finalize (TrackerStoreCursorTask * obj);
static void tracker_store_finalize (TrackerStore * obj);


static Block7Data*
block7_data_ref (Block7Data* _data7_)
{
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_atomic_int_inc (&_data7_->_ref_count_);
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return _data7_;
#line 478 "tracker-store.c"
}


static void
block7_data_unref (void * _userdata_)
{
	Block7Data* _data7_;
	_data7_ = (Block7Data*) _userdata_;
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (g_atomic_int_dec_and_test (&_data7_->_ref_count_)) {
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tracker_store_cursor_task_unref0 (_data7_->task);
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_slice_free (Block7Data, _data7_);
#line 493 "tracker-store.c"
	}
}


static gpointer
_g_error_copy0 (gpointer self)
{
#line 64 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return self ? g_error_copy (self) : NULL;
#line 503 "tracker-store.c"
}


static gboolean
__lambda6_ (Block7Data* _data7_)
{
	gboolean result = FALSE;
	GSourceFunc _tmp0_;
	void* _tmp0__target;
#line 68 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = _data7_->task->callback;
#line 68 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0__target = _data7_->task->callback_target;
#line 68 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ (_tmp0__target);
#line 69 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_update_state ();
#line 70 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	result = FALSE;
#line 70 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return result;
#line 525 "tracker-store.c"
}


static gboolean
___lambda6__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda6_ (self);
#line 67 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return result;
#line 536 "tracker-store.c"
}


static void
tracker_store_cursor_dispatch_cb (TrackerStoreCursorTask* task)
{
	Block7Data* _data7_;
	GError * _inner_error_ = NULL;
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_if_fail (task != NULL);
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data7_ = g_slice_new0 (Block7Data);
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data7_->_ref_count_ = 1;
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tracker_store_cursor_task_unref0 (_data7_->task);
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data7_->task = task;
#line 555 "tracker-store.c"
	{
		TrackerStoreSparqlQueryInThread _tmp0_;
		void* _tmp0__target;
		TrackerSparqlCursor* _tmp1_;
#line 62 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp0_ = _data7_->task->thread_func;
#line 62 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp0__target = _data7_->task->thread_func_target;
#line 62 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp1_ = _data7_->task->cursor;
#line 62 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp0_ (_tmp1_, _tmp0__target, &_inner_error_);
#line 62 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 570 "tracker-store.c"
			goto __catch19_g_error;
		}
	}
	goto __finally19;
	__catch19_g_error:
	{
		GError* e = NULL;
		GError* _tmp2_;
		GError* _tmp3_;
#line 61 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		e = _inner_error_;
#line 61 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_inner_error_ = NULL;
#line 64 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp2_ = e;
#line 64 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp3_ = _g_error_copy0 (_tmp2_);
#line 64 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_error_free0 (_data7_->task->error);
#line 64 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data7_->task->error = _tmp3_;
#line 61 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_error_free0 (e);
#line 594 "tracker-store.c"
	}
	__finally19:
#line 61 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 61 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		block7_data_unref (_data7_);
#line 61 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data7_ = NULL;
#line 61 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 61 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_clear_error (&_inner_error_);
#line 61 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return;
#line 609 "tracker-store.c"
	}
#line 67 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ___lambda6__gsource_func, block7_data_ref (_data7_), block7_data_unref);
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	block7_data_unref (_data7_);
#line 60 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data7_ = NULL;
#line 617 "tracker-store.c"
}


static void
_g_free0_ (gpointer var)
{
#line 82 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	var = (g_free (var), NULL);
#line 626 "tracker-store.c"
}


static void
_g_object_unref0_ (gpointer var)
{
#line 82 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 635 "tracker-store.c"
}


static void
_tracker_store_cursor_dispatch_cb_gfunc (gpointer data,
                                         gpointer self)
{
#line 85 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_cursor_dispatch_cb ((TrackerStoreCursorTask*) data);
#line 645 "tracker-store.c"
}


static gpointer
_g_object_ref0 (gpointer self)
{
#line 96 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return self ? g_object_ref (self) : NULL;
#line 654 "tracker-store.c"
}


void
tracker_store_init (TrackerConfig* config_p,
                    TrackerStoreStateCallback idle,
                    gpointer idle_target,
                    TrackerStoreStateCallback busy,
                    gpointer busy_target)
{
	gchar* max_task_time_env = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp2_;
	GHashFunc _tmp4_;
	GEqualFunc _tmp5_;
	GHashTable* _tmp6_;
	TrackerConfig* _tmp10_;
	TrackerStoreStateCallback _tmp11_;
	void* _tmp11__target;
	GError * _inner_error_ = NULL;
#line 74 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_if_fail (config_p != NULL);
#line 75 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = g_getenv ("TRACKER_STORE_MAX_TASK_TIME");
#line 75 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 75 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	max_task_time_env = _tmp1_;
#line 76 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp2_ = max_task_time_env;
#line 76 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_tmp2_ != NULL) {
#line 688 "tracker-store.c"
		const gchar* _tmp3_;
#line 77 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp3_ = max_task_time_env;
#line 77 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_max_task_time = atoi (_tmp3_);
#line 694 "tracker-store.c"
	} else {
#line 79 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_max_task_time = TRACKER_STORE_MAX_TASK_TIME;
#line 698 "tracker-store.c"
	}
#line 82 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp4_ = g_str_hash;
#line 82 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp5_ = g_str_equal;
#line 82 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp6_ = g_hash_table_new_full (_tmp4_, _tmp5_, _g_free0_, _g_object_unref0_);
#line 82 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_hash_table_unref0 (tracker_store_client_cancellables);
#line 82 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_client_cancellables = _tmp6_;
#line 710 "tracker-store.c"
	{
		GThreadPool* _tmp7_ = NULL;
		GThreadPool* _tmp8_;
		GThreadPool* _tmp9_;
#line 85 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp8_ = g_thread_pool_new (_tracker_store_cursor_dispatch_cb_gfunc, NULL, 16, FALSE, &_inner_error_);
#line 85 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp7_ = _tmp8_;
#line 85 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 721 "tracker-store.c"
			goto __catch20_g_error;
		}
#line 85 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp9_ = _tmp7_;
#line 85 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp7_ = NULL;
#line 85 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_thread_pool_free0 (tracker_store_cursor_pool);
#line 85 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_cursor_pool = _tmp9_;
#line 84 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_thread_pool_free0 (_tmp7_);
#line 734 "tracker-store.c"
	}
	goto __finally20;
	__catch20_g_error:
	{
		GError* e = NULL;
#line 84 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		e = _inner_error_;
#line 84 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_inner_error_ = NULL;
#line 84 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_error_free0 (e);
#line 746 "tracker-store.c"
	}
	__finally20:
#line 84 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 84 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_free0 (max_task_time_env);
#line 84 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 84 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_clear_error (&_inner_error_);
#line 84 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return;
#line 759 "tracker-store.c"
	}
#line 93 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_thread_pool_set_max_idle_time ((guint) (15 * 1000));
#line 94 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_thread_pool_set_max_unused_threads (2);
#line 96 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp10_ = _g_object_ref0 (config_p);
#line 96 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (tracker_store_config);
#line 96 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_config = _tmp10_;
#line 97 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_idle_cb = idle;
#line 97 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_idle_cb_target = idle_target;
#line 98 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_busy_cb = busy;
#line 98 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_busy_cb_target = busy_target;
#line 99 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp11_ = tracker_store_idle_cb;
#line 99 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp11__target = tracker_store_idle_cb_target;
#line 99 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp11_ (_tmp11__target);
#line 74 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (max_task_time_env);
#line 787 "tracker-store.c"
}


void
tracker_store_shutdown (void)
{
	guint _tmp0_;
#line 103 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = tracker_store_signal_timeout;
#line 103 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_tmp0_ != ((guint) 0)) {
#line 799 "tracker-store.c"
		guint _tmp1_;
#line 104 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp1_ = tracker_store_signal_timeout;
#line 104 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_source_remove (_tmp1_);
#line 105 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_signal_timeout = (guint) 0;
#line 807 "tracker-store.c"
	}
}


static Block8Data*
block8_data_ref (Block8Data* _data8_)
{
#line 109 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_atomic_int_inc (&_data8_->_ref_count_);
#line 109 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return _data8_;
#line 819 "tracker-store.c"
}


static void
block8_data_unref (void * _userdata_)
{
	Block8Data* _data8_;
	_data8_ = (Block8Data*) _userdata_;
#line 109 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (g_atomic_int_dec_and_test (&_data8_->_ref_count_)) {
#line 109 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_object_unref0 (_data8_->task_cancellable);
#line 109 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_slice_free (Block8Data, _data8_);
#line 834 "tracker-store.c"
	}
}


static void
__lambda7_ (Block8Data* _data8_)
{
#line 119 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_cancellable_cancel (_data8_->task_cancellable);
#line 844 "tracker-store.c"
}


static void
___lambda7__gfunc (gconstpointer data,
                   gpointer self)
{
#line 118 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	__lambda7_ (self);
#line 854 "tracker-store.c"
}


static GCancellable*
tracker_store_create_cancellable (const gchar* client_id)
{
	GCancellable* result = NULL;
	Block8Data* _data8_;
	GCancellable* client_cancellable = NULL;
	GHashTable* _tmp0_;
	gconstpointer _tmp1_;
	GCancellable* _tmp2_;
	GCancellable* _tmp3_;
	GCancellable* _tmp9_;
	GCancellable* _tmp10_;
	GCancellable* _tmp11_;
#line 109 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_val_if_fail (client_id != NULL, NULL);
#line 109 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data8_ = g_slice_new0 (Block8Data);
#line 109 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data8_->_ref_count_ = 1;
#line 110 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = tracker_store_client_cancellables;
#line 110 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp1_ = g_hash_table_lookup (_tmp0_, client_id);
#line 110 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp2_ = _g_object_ref0 ((GCancellable*) _tmp1_);
#line 110 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	client_cancellable = _tmp2_;
#line 112 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp3_ = client_cancellable;
#line 112 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_tmp3_ == NULL) {
#line 889 "tracker-store.c"
		GCancellable* _tmp4_;
		GHashTable* _tmp5_;
		gchar* _tmp6_;
		GCancellable* _tmp7_;
		GCancellable* _tmp8_;
#line 113 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp4_ = g_cancellable_new ();
#line 113 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_object_unref0 (client_cancellable);
#line 113 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		client_cancellable = _tmp4_;
#line 114 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp5_ = tracker_store_client_cancellables;
#line 114 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp6_ = g_strdup (client_id);
#line 114 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp7_ = client_cancellable;
#line 114 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp8_ = _g_object_ref0 (_tmp7_);
#line 114 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_hash_table_insert (_tmp5_, _tmp6_, _tmp8_);
#line 911 "tracker-store.c"
	}
#line 117 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp9_ = g_cancellable_new ();
#line 117 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data8_->task_cancellable = _tmp9_;
#line 118 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp10_ = client_cancellable;
#line 118 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_cancellable_connect (_tmp10_, (GCallback) ___lambda7__gfunc, block8_data_ref (_data8_), block8_data_unref);
#line 122 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp11_ = _g_object_ref0 (_data8_->task_cancellable);
#line 122 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	result = _tmp11_;
#line 122 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (client_cancellable);
#line 122 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	block8_data_unref (_data8_);
#line 122 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data8_ = NULL;
#line 122 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return result;
#line 933 "tracker-store.c"
}


static void
tracker_store_do_emit_signals (void)
{
	TrackerStoreSignalEmissionFunc _tmp0_;
	void* _tmp0__target;
	GHashTable* _tmp1_;
	GHashTable* _tmp2_;
	GHashTable* _tmp3_;
	GHashTable* _tmp4_;
#line 126 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = tracker_store_signal_callback;
#line 126 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0__target = tracker_store_signal_callback_target;
#line 126 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp1_ = tracker_events_get_pending ();
#line 126 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp2_ = _tmp1_;
#line 126 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp3_ = tracker_writeback_get_ready ();
#line 126 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp4_ = _tmp3_;
#line 126 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ (_tmp2_, _tmp4_, _tmp0__target);
#line 126 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_hash_table_unref0 (_tmp4_);
#line 126 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_hash_table_unref0 (_tmp2_);
#line 964 "tracker-store.c"
}


static gboolean
___lambda8_ (void)
{
	gboolean result = FALSE;
	gint _tmp0_;
#line 132 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_do_emit_signals ();
#line 133 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = tracker_store_n_updates;
#line 133 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_tmp0_ == 0) {
#line 134 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_signal_timeout = (guint) 0;
#line 135 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		result = FALSE;
#line 135 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return result;
#line 985 "tracker-store.c"
	} else {
#line 137 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		result = TRUE;
#line 137 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return result;
#line 991 "tracker-store.c"
	}
}


static gboolean
____lambda8__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda8_ ();
#line 131 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return result;
#line 1003 "tracker-store.c"
}


static void
tracker_store_ensure_signal_timeout (void)
{
	guint _tmp0_;
#line 130 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = tracker_store_signal_timeout;
#line 130 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_tmp0_ == ((guint) 0)) {
#line 1015 "tracker-store.c"
		TrackerConfig* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
#line 131 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp1_ = tracker_store_config;
#line 131 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp2_ = tracker_config_get_graphupdated_delay (_tmp1_);
#line 131 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp3_ = _tmp2_;
#line 131 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_signal_timeout = g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) _tmp3_, ____lambda8__gsource_func, NULL, NULL);
#line 1027 "tracker-store.c"
	}
}


static void
tracker_store_sparql_query_data_free (gpointer _data)
{
	TrackerStoreSparqlQueryData* _data_;
	_data_ = _data;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->sparql);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_slice_free (TrackerStoreSparqlQueryData, _data_);
#line 1045 "tracker-store.c"
}


static void
tracker_store_sparql_query_async_ready_wrapper (GObject *source_object,
                                                GAsyncResult *res,
                                                void *user_data)
{
	TrackerStoreSparqlQueryData* _task_data_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_task_data_ = g_task_get_task_data (G_TASK (res));
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_task_data_->_callback_ != NULL) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_task_data_->_callback_ (source_object, res, user_data);
#line 1061 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_task_data_->_task_complete_ = TRUE;
#line 1065 "tracker-store.c"
}


void
tracker_store_sparql_query (TrackerDirectConnection* conn,
                            const gchar* sparql,
                            gint priority,
                            TrackerStoreSparqlQueryInThread in_thread,
                            gpointer in_thread_target,
                            const gchar* client_id,
                            GAsyncReadyCallback _callback_,
                            gpointer _user_data_)
{
	TrackerStoreSparqlQueryData* _data_;
	TrackerDirectConnection* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = g_slice_new0 (TrackerStoreSparqlQueryData);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_callback_ = _callback_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_async_result = g_task_new (NULL, NULL, tracker_store_sparql_query_async_ready_wrapper, _user_data_);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_callback_ == NULL) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_task_complete_ = TRUE;
#line 1093 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_task_set_task_data (_data_->_async_result, _data_, tracker_store_sparql_query_data_free);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = _g_object_ref0 (conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->conn = _tmp0_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp1_ = g_strdup (sparql);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->sparql);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->sparql = _tmp1_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->priority = priority;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->in_thread = in_thread;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->in_thread_target = in_thread_target;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp2_ = g_strdup (client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->client_id = _tmp2_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_sparql_query_co (_data_);
#line 1123 "tracker-store.c"
}


void
tracker_store_sparql_query_finish (GAsyncResult* _res_,
                                   GError** error)
{
	TrackerStoreSparqlQueryData* _data_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (NULL == _data_) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return;
#line 1138 "tracker-store.c"
	}
}


static Block9Data*
block9_data_ref (Block9Data* _data9_)
{
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_atomic_int_inc (&_data9_->_ref_count_);
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return _data9_;
#line 1150 "tracker-store.c"
}


static void
block9_data_unref (void * _userdata_)
{
	Block9Data* _data9_;
	_data9_ = (Block9Data*) _userdata_;
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (g_atomic_int_dec_and_test (&_data9_->_ref_count_)) {
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_object_unref0 (_data9_->cancellable);
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_slice_free (Block9Data, _data9_);
#line 1165 "tracker-store.c"
	}
}


static gboolean
___lambda9_ (Block9Data* _data9_)
{
	gboolean result = FALSE;
	GCancellable* _tmp0_;
#line 149 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = _data9_->cancellable;
#line 149 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_cancellable_cancel (_tmp0_);
#line 150 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data9_->timeout_id = (guint) 0;
#line 151 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	result = FALSE;
#line 151 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return result;
#line 1185 "tracker-store.c"
}


static gboolean
____lambda9__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda9_ (self);
#line 148 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return result;
#line 1196 "tracker-store.c"
}


static void
tracker_store_sparql_query_ready (GObject* source_object,
                                  GAsyncResult* _res_,
                                  gpointer _user_data_)
{
	TrackerStoreSparqlQueryData* _data_;
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = _user_data_;
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_source_object_ = source_object;
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_res_ = _res_;
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_task_complete_ = TRUE;
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_sparql_query_co (_data_);
#line 1216 "tracker-store.c"
}


static gboolean
_tracker_store_sparql_query_co_gsource_func (gpointer self)
{
	gboolean result;
	result = tracker_store_sparql_query_co (self);
#line 162 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return result;
#line 1227 "tracker-store.c"
}


static gpointer
_tracker_store_cursor_task_ref0 (gpointer self)
{
#line 165 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return self ? tracker_store_cursor_task_ref (self) : NULL;
#line 1236 "tracker-store.c"
}


static gboolean
tracker_store_sparql_query_co (TrackerStoreSparqlQueryData* _data_)
{
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	switch (_data_->_state_) {
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		case 0:
#line 1247 "tracker-store.c"
		goto _state_0;
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		case 1:
#line 1251 "tracker-store.c"
		goto _state_1;
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		case 2:
#line 1255 "tracker-store.c"
		goto _state_2;
		default:
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_assert_not_reached ();
#line 1260 "tracker-store.c"
	}
	_state_0:
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_data9_ = g_slice_new0 (Block9Data);
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_data9_->_ref_count_ = 1;
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_data9_->_async_data_ = _data_;
#line 144 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp0_ = tracker_store_create_cancellable (_data_->client_id);
#line 144 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_data9_->cancellable = _data_->_tmp0_;
#line 145 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_data9_->timeout_id = (guint) 0;
#line 147 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp1_ = tracker_store_max_task_time;
#line 147 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_data_->_tmp1_ != 0) {
#line 148 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_tmp2_ = tracker_store_max_task_time;
#line 148 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_data9_->timeout_id = g_timeout_add_seconds_full (G_PRIORITY_DEFAULT, (guint) _data_->_tmp2_, ____lambda9__gsource_func, block9_data_ref (_data_->_data9_), block9_data_unref);
#line 1283 "tracker-store.c"
	}
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp3_ = _data_->_data9_->cancellable;
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_state_ = 1;
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_sparql_connection_query_async ((TrackerSparqlConnection*) _data_->conn, _data_->sparql, _data_->_tmp3_, tracker_store_sparql_query_ready, _data_);
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return FALSE;
#line 1293 "tracker-store.c"
	_state_1:
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp4_ = tracker_sparql_connection_query_finish ((TrackerSparqlConnection*) _data_->conn, _data_->_res_, &_data_->_inner_error_);
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->cursor = _data_->_tmp4_;
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		block9_data_unref (_data_->_data9_);
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_data9_ = NULL;
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_object_unref (_data_->_async_result);
#line 155 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return FALSE;
#line 1311 "tracker-store.c"
	}
#line 157 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp5_ = _data_->_data9_->timeout_id;
#line 157 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_data_->_tmp5_ != ((guint) 0)) {
#line 158 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_tmp6_ = _data_->_data9_->timeout_id;
#line 158 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_source_remove (_data_->_tmp6_);
#line 1321 "tracker-store.c"
	}
#line 160 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp7_ = _data_->cursor;
#line 160 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp8_ = tracker_store_cursor_task_new (_data_->_tmp7_);
#line 160 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->task = _data_->_tmp8_;
#line 161 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp9_ = _data_->task;
#line 161 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp9_->thread_func = _data_->in_thread;
#line 161 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp9_->thread_func_target = _data_->in_thread_target;
#line 162 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp10_ = _data_->task;
#line 162 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp10_->callback = _tracker_store_sparql_query_co_gsource_func;
#line 162 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp10_->callback_target = _data_;
#line 1341 "tracker-store.c"
	{
#line 165 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_tmp11_ = tracker_store_cursor_pool;
#line 165 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_tmp12_ = _data_->task;
#line 165 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_tmp13_ = _tracker_store_cursor_task_ref0 (_data_->_tmp12_);
#line 165 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_thread_pool_push (_data_->_tmp11_, _data_->_tmp13_, &_data_->_inner_error_);
#line 165 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 1353 "tracker-store.c"
			goto __catch21_g_error;
		}
	}
	goto __finally21;
	__catch21_g_error:
	{
#line 164 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->e = _data_->_inner_error_;
#line 164 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_inner_error_ = NULL;
#line 164 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_error_free0 (_data_->e);
#line 1366 "tracker-store.c"
	}
	__finally21:
#line 164 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 164 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 164 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tracker_store_cursor_task_unref0 (_data_->task);
#line 164 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_object_unref0 (_data_->cursor);
#line 164 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		block9_data_unref (_data_->_data9_);
#line 164 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_data9_ = NULL;
#line 164 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_object_unref (_data_->_async_result);
#line 164 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return FALSE;
#line 1385 "tracker-store.c"
	}
#line 170 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_update_state ();
#line 172 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_state_ = 2;
#line 172 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return FALSE;
#line 1393 "tracker-store.c"
	_state_2:
	;
#line 174 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp14_ = _data_->task;
#line 174 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp15_ = _data_->_tmp14_->error;
#line 174 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_data_->_tmp15_ != NULL) {
#line 175 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_tmp16_ = _data_->task;
#line 175 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_tmp17_ = _data_->_tmp16_->error;
#line 175 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_tmp18_ = _g_error_copy0 (_data_->_tmp17_);
#line 175 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_inner_error_ = _data_->_tmp18_;
#line 175 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 175 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tracker_store_cursor_task_unref0 (_data_->task);
#line 175 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_object_unref0 (_data_->cursor);
#line 175 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		block9_data_unref (_data_->_data9_);
#line 175 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_data9_ = NULL;
#line 175 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_object_unref (_data_->_async_result);
#line 175 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return FALSE;
#line 1424 "tracker-store.c"
	}
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tracker_store_cursor_task_unref0 (_data_->task);
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->cursor);
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	block9_data_unref (_data_->_data9_);
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_data9_ = NULL;
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_data_->_state_ != 0) {
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 1442 "tracker-store.c"
		}
	}
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_object_unref (_data_->_async_result);
#line 143 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return FALSE;
#line 1449 "tracker-store.c"
}


static void
tracker_store_pre_update (void)
{
	gint _tmp0_;
#line 179 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = tracker_store_n_updates;
#line 179 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_n_updates = _tmp0_ + 1;
#line 180 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_update_state ();
#line 181 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_ensure_signal_timeout ();
#line 1465 "tracker-store.c"
}


static void
tracker_store_post_update (void)
{
	gint _tmp0_;
#line 185 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = tracker_store_n_updates;
#line 185 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_n_updates = _tmp0_ - 1;
#line 186 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_update_state ();
#line 1479 "tracker-store.c"
}


static void
tracker_store_sparql_update_data_free (gpointer _data)
{
	TrackerStoreSparqlUpdateData* _data_;
	_data_ = _data;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->sparql);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_slice_free (TrackerStoreSparqlUpdateData, _data_);
#line 1496 "tracker-store.c"
}


static void
tracker_store_sparql_update_async_ready_wrapper (GObject *source_object,
                                                 GAsyncResult *res,
                                                 void *user_data)
{
	TrackerStoreSparqlUpdateData* _task_data_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_task_data_ = g_task_get_task_data (G_TASK (res));
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_task_data_->_callback_ != NULL) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_task_data_->_callback_ (source_object, res, user_data);
#line 1512 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_task_data_->_task_complete_ = TRUE;
#line 1516 "tracker-store.c"
}


void
tracker_store_sparql_update (TrackerDirectConnection* conn,
                             const gchar* sparql,
                             gint priority,
                             const gchar* client_id,
                             GAsyncReadyCallback _callback_,
                             gpointer _user_data_)
{
	TrackerStoreSparqlUpdateData* _data_;
	TrackerDirectConnection* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = g_slice_new0 (TrackerStoreSparqlUpdateData);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_callback_ = _callback_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_async_result = g_task_new (NULL, NULL, tracker_store_sparql_update_async_ready_wrapper, _user_data_);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_callback_ == NULL) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_task_complete_ = TRUE;
#line 1542 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_task_set_task_data (_data_->_async_result, _data_, tracker_store_sparql_update_data_free);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = _g_object_ref0 (conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->conn = _tmp0_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp1_ = g_strdup (sparql);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->sparql);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->sparql = _tmp1_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->priority = priority;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp2_ = g_strdup (client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->client_id = _tmp2_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_sparql_update_co (_data_);
#line 1568 "tracker-store.c"
}


void
tracker_store_sparql_update_finish (GAsyncResult* _res_,
                                    GError** error)
{
	TrackerStoreSparqlUpdateData* _data_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (NULL == _data_) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return;
#line 1583 "tracker-store.c"
	}
}


static void
tracker_store_sparql_update_ready (GObject* source_object,
                                   GAsyncResult* _res_,
                                   gpointer _user_data_)
{
	TrackerStoreSparqlUpdateData* _data_;
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = _user_data_;
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_source_object_ = source_object;
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_res_ = _res_;
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_task_complete_ = TRUE;
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_sparql_update_co (_data_);
#line 1604 "tracker-store.c"
}


static gboolean
tracker_store_sparql_update_co (TrackerStoreSparqlUpdateData* _data_)
{
#line 189 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	switch (_data_->_state_) {
#line 189 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		case 0:
#line 1615 "tracker-store.c"
		goto _state_0;
#line 189 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		case 1:
#line 1619 "tracker-store.c"
		goto _state_1;
		default:
#line 189 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_assert_not_reached ();
#line 1624 "tracker-store.c"
	}
	_state_0:
#line 190 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp0_ = tracker_store_active;
#line 190 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (!_data_->_tmp0_) {
#line 191 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_tmp1_ = g_error_new_literal (TRACKER_SPARQL_ERROR, TRACKER_SPARQL_ERROR_UNSUPPORTED, "Store is not active");
#line 191 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_inner_error_ = _data_->_tmp1_;
#line 191 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 191 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_object_unref (_data_->_async_result);
#line 191 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return FALSE;
#line 1641 "tracker-store.c"
	}
#line 192 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_pre_update ();
#line 193 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp2_ = tracker_store_create_cancellable (_data_->client_id);
#line 193 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->cancellable = _data_->_tmp2_;
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_state_ = 1;
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_sparql_connection_update_async ((TrackerSparqlConnection*) _data_->conn, _data_->sparql, _data_->priority, _data_->cancellable, tracker_store_sparql_update_ready, _data_);
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return FALSE;
#line 1655 "tracker-store.c"
	_state_1:
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_sparql_connection_update_finish ((TrackerSparqlConnection*) _data_->conn, _data_->_res_, &_data_->_inner_error_);
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_object_unref0 (_data_->cancellable);
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_object_unref (_data_->_async_result);
#line 194 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return FALSE;
#line 1669 "tracker-store.c"
	}
#line 195 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_post_update ();
#line 189 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->cancellable);
#line 189 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 189 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_data_->_state_ != 0) {
#line 189 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 189 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 1683 "tracker-store.c"
		}
	}
#line 189 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_object_unref (_data_->_async_result);
#line 189 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return FALSE;
#line 1690 "tracker-store.c"
}


static void
tracker_store_sparql_update_blank_data_free (gpointer _data)
{
	TrackerStoreSparqlUpdateBlankData* _data_;
	_data_ = _data;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->sparql);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_variant_unref0 (_data_->result);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_slice_free (TrackerStoreSparqlUpdateBlankData, _data_);
#line 1709 "tracker-store.c"
}


static void
tracker_store_sparql_update_blank_async_ready_wrapper (GObject *source_object,
                                                       GAsyncResult *res,
                                                       void *user_data)
{
	TrackerStoreSparqlUpdateBlankData* _task_data_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_task_data_ = g_task_get_task_data (G_TASK (res));
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_task_data_->_callback_ != NULL) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_task_data_->_callback_ (source_object, res, user_data);
#line 1725 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_task_data_->_task_complete_ = TRUE;
#line 1729 "tracker-store.c"
}


void
tracker_store_sparql_update_blank (TrackerDirectConnection* conn,
                                   const gchar* sparql,
                                   gint priority,
                                   const gchar* client_id,
                                   GAsyncReadyCallback _callback_,
                                   gpointer _user_data_)
{
	TrackerStoreSparqlUpdateBlankData* _data_;
	TrackerDirectConnection* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = g_slice_new0 (TrackerStoreSparqlUpdateBlankData);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_callback_ = _callback_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_async_result = g_task_new (NULL, NULL, tracker_store_sparql_update_blank_async_ready_wrapper, _user_data_);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_callback_ == NULL) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_task_complete_ = TRUE;
#line 1755 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_task_set_task_data (_data_->_async_result, _data_, tracker_store_sparql_update_blank_data_free);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = _g_object_ref0 (conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->conn = _tmp0_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp1_ = g_strdup (sparql);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->sparql);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->sparql = _tmp1_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->priority = priority;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp2_ = g_strdup (client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->client_id = _tmp2_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_sparql_update_blank_co (_data_);
#line 1781 "tracker-store.c"
}


GVariant*
tracker_store_sparql_update_blank_finish (GAsyncResult* _res_,
                                          GError** error)
{
	GVariant* result;
	TrackerStoreSparqlUpdateBlankData* _data_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (NULL == _data_) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return NULL;
#line 1797 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	result = _data_->result;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->result = NULL;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return result;
#line 1805 "tracker-store.c"
}


static void
tracker_store_sparql_update_blank_ready (GObject* source_object,
                                         GAsyncResult* _res_,
                                         gpointer _user_data_)
{
	TrackerStoreSparqlUpdateBlankData* _data_;
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = _user_data_;
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_source_object_ = source_object;
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_res_ = _res_;
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_task_complete_ = TRUE;
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_sparql_update_blank_co (_data_);
#line 1825 "tracker-store.c"
}


static gboolean
tracker_store_sparql_update_blank_co (TrackerStoreSparqlUpdateBlankData* _data_)
{
#line 198 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	switch (_data_->_state_) {
#line 198 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		case 0:
#line 1836 "tracker-store.c"
		goto _state_0;
#line 198 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		case 1:
#line 1840 "tracker-store.c"
		goto _state_1;
		default:
#line 198 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_assert_not_reached ();
#line 1845 "tracker-store.c"
	}
	_state_0:
#line 199 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp0_ = tracker_store_active;
#line 199 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (!_data_->_tmp0_) {
#line 200 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_tmp1_ = g_error_new_literal (TRACKER_SPARQL_ERROR, TRACKER_SPARQL_ERROR_UNSUPPORTED, "Store is not active");
#line 200 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_inner_error_ = _data_->_tmp1_;
#line 200 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 200 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_object_unref (_data_->_async_result);
#line 200 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return FALSE;
#line 1862 "tracker-store.c"
	}
#line 201 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_pre_update ();
#line 202 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp2_ = tracker_store_create_cancellable (_data_->client_id);
#line 202 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->cancellable = _data_->_tmp2_;
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_state_ = 1;
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_sparql_connection_update_blank_async ((TrackerSparqlConnection*) _data_->conn, _data_->sparql, _data_->priority, _data_->cancellable, tracker_store_sparql_update_blank_ready, _data_);
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return FALSE;
#line 1876 "tracker-store.c"
	_state_1:
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp3_ = tracker_sparql_connection_update_blank_finish ((TrackerSparqlConnection*) _data_->conn, _data_->_res_, &_data_->_inner_error_);
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->nodes = _data_->_tmp3_;
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_object_unref0 (_data_->cancellable);
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_object_unref (_data_->_async_result);
#line 203 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return FALSE;
#line 1892 "tracker-store.c"
	}
#line 204 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_post_update ();
#line 206 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->result = _data_->nodes;
#line 206 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->cancellable);
#line 206 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 206 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_data_->_state_ != 0) {
#line 206 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 206 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 1908 "tracker-store.c"
		}
	}
#line 206 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_object_unref (_data_->_async_result);
#line 206 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return FALSE;
#line 1915 "tracker-store.c"
}


static void
tracker_store_queue_turtle_import_data_free (gpointer _data)
{
	TrackerStoreQueueTurtleImportData* _data_;
	_data_ = _data;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->file);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_slice_free (TrackerStoreQueueTurtleImportData, _data_);
#line 1932 "tracker-store.c"
}


static void
tracker_store_queue_turtle_import_async_ready_wrapper (GObject *source_object,
                                                       GAsyncResult *res,
                                                       void *user_data)
{
	TrackerStoreQueueTurtleImportData* _task_data_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_task_data_ = g_task_get_task_data (G_TASK (res));
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_task_data_->_callback_ != NULL) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_task_data_->_callback_ (source_object, res, user_data);
#line 1948 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_task_data_->_task_complete_ = TRUE;
#line 1952 "tracker-store.c"
}


void
tracker_store_queue_turtle_import (TrackerDirectConnection* conn,
                                   GFile* file,
                                   const gchar* client_id,
                                   GAsyncReadyCallback _callback_,
                                   gpointer _user_data_)
{
	TrackerStoreQueueTurtleImportData* _data_;
	TrackerDirectConnection* _tmp0_;
	GFile* _tmp1_;
	gchar* _tmp2_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = g_slice_new0 (TrackerStoreQueueTurtleImportData);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_callback_ = _callback_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_async_result = g_task_new (NULL, NULL, tracker_store_queue_turtle_import_async_ready_wrapper, _user_data_);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_callback_ == NULL) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_task_complete_ = TRUE;
#line 1977 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_task_set_task_data (_data_->_async_result, _data_, tracker_store_queue_turtle_import_data_free);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = _g_object_ref0 (conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->conn);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->conn = _tmp0_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp1_ = _g_object_ref0 (file);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->file);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->file = _tmp1_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp2_ = g_strdup (client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_free0 (_data_->client_id);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->client_id = _tmp2_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_queue_turtle_import_co (_data_);
#line 2001 "tracker-store.c"
}


void
tracker_store_queue_turtle_import_finish (GAsyncResult* _res_,
                                          GError** error)
{
	TrackerStoreQueueTurtleImportData* _data_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (NULL == _data_) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return;
#line 2016 "tracker-store.c"
	}
}


static void
tracker_store_queue_turtle_import_ready (GObject* source_object,
                                         GAsyncResult* _res_,
                                         gpointer _user_data_)
{
	TrackerStoreQueueTurtleImportData* _data_;
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = _user_data_;
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_source_object_ = source_object;
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_res_ = _res_;
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_task_complete_ = TRUE;
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_queue_turtle_import_co (_data_);
#line 2037 "tracker-store.c"
}


static gboolean
tracker_store_queue_turtle_import_co (TrackerStoreQueueTurtleImportData* _data_)
{
#line 209 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	switch (_data_->_state_) {
#line 209 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		case 0:
#line 2048 "tracker-store.c"
		goto _state_0;
#line 209 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		case 1:
#line 2052 "tracker-store.c"
		goto _state_1;
		default:
#line 209 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_assert_not_reached ();
#line 2057 "tracker-store.c"
	}
	_state_0:
#line 210 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp0_ = tracker_store_active;
#line 210 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (!_data_->_tmp0_) {
#line 211 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_tmp1_ = g_error_new_literal (TRACKER_SPARQL_ERROR, TRACKER_SPARQL_ERROR_UNSUPPORTED, "Store is not active");
#line 211 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_inner_error_ = _data_->_tmp1_;
#line 211 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 211 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_object_unref (_data_->_async_result);
#line 211 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return FALSE;
#line 2074 "tracker-store.c"
	}
#line 212 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_pre_update ();
#line 213 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp2_ = tracker_store_create_cancellable (_data_->client_id);
#line 213 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->cancellable = _data_->_tmp2_;
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_state_ = 1;
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_sparql_connection_load_async ((TrackerSparqlConnection*) _data_->conn, _data_->file, _data_->cancellable, tracker_store_queue_turtle_import_ready, _data_);
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return FALSE;
#line 2088 "tracker-store.c"
	_state_1:
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_sparql_connection_load_finish ((TrackerSparqlConnection*) _data_->conn, _data_->_res_, &_data_->_inner_error_);
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_g_object_unref0 (_data_->cancellable);
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_object_unref (_data_->_async_result);
#line 214 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return FALSE;
#line 2102 "tracker-store.c"
	}
#line 215 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_post_update ();
#line 209 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->cancellable);
#line 209 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 209 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_data_->_state_ != 0) {
#line 209 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 209 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 2116 "tracker-store.c"
		}
	}
#line 209 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_object_unref (_data_->_async_result);
#line 209 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return FALSE;
#line 2123 "tracker-store.c"
}


void
tracker_store_unreg_batches (const gchar* client_id)
{
	GCancellable* cancellable = NULL;
	GHashTable* _tmp0_;
	gconstpointer _tmp1_;
	GCancellable* _tmp2_;
	GCancellable* _tmp3_;
#line 218 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_if_fail (client_id != NULL);
#line 219 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = tracker_store_client_cancellables;
#line 219 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp1_ = g_hash_table_lookup (_tmp0_, client_id);
#line 219 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp2_ = _g_object_ref0 ((GCancellable*) _tmp1_);
#line 219 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	cancellable = _tmp2_;
#line 221 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp3_ = cancellable;
#line 221 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_tmp3_ != NULL) {
#line 2149 "tracker-store.c"
		GCancellable* _tmp4_;
		GHashTable* _tmp5_;
#line 222 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp4_ = cancellable;
#line 222 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_cancellable_cancel (_tmp4_);
#line 223 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp5_ = tracker_store_client_cancellables;
#line 223 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_hash_table_remove (_tmp5_, client_id);
#line 224 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_update_state ();
#line 2162 "tracker-store.c"
	}
#line 218 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (cancellable);
#line 2166 "tracker-store.c"
}


static void
tracker_store_pause_data_free (gpointer _data)
{
	TrackerStorePauseData* _data_;
	_data_ = _data;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_slice_free (TrackerStorePauseData, _data_);
#line 2177 "tracker-store.c"
}


static void
tracker_store_pause_async_ready_wrapper (GObject *source_object,
                                         GAsyncResult *res,
                                         void *user_data)
{
	TrackerStorePauseData* _task_data_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_task_data_ = g_task_get_task_data (G_TASK (res));
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_task_data_->_callback_ != NULL) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_task_data_->_callback_ (source_object, res, user_data);
#line 2193 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_task_data_->_task_complete_ = TRUE;
#line 2197 "tracker-store.c"
}


void
tracker_store_pause (GAsyncReadyCallback _callback_,
                     gpointer _user_data_)
{
	TrackerStorePauseData* _data_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = g_slice_new0 (TrackerStorePauseData);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_callback_ = _callback_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_async_result = g_task_new (NULL, NULL, tracker_store_pause_async_ready_wrapper, _user_data_);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_callback_ == NULL) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_data_->_task_complete_ = TRUE;
#line 2216 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_task_set_task_data (_data_->_async_result, _data_, tracker_store_pause_data_free);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_pause_co (_data_);
#line 2222 "tracker-store.c"
}


void
tracker_store_pause_finish (GAsyncResult* _res_)
{
	TrackerStorePauseData* _data_;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 2232 "tracker-store.c"
}


static gboolean
tracker_store_pause_co (TrackerStorePauseData* _data_)
{
#line 228 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	switch (_data_->_state_) {
#line 228 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		case 0:
#line 2243 "tracker-store.c"
		goto _state_0;
		default:
#line 228 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_assert_not_reached ();
#line 2248 "tracker-store.c"
	}
	_state_0:
#line 229 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_active = FALSE;
#line 231 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp0_ = tracker_main_get_sparql_connection ();
#line 231 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->_tmp1_ = _g_object_ref0 (_data_->_tmp0_);
#line 231 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_data_->sparql_conn = _data_->_tmp1_;
#line 232 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_direct_connection_sync (_data_->sparql_conn);
#line 228 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (_data_->sparql_conn);
#line 228 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 228 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_data_->_state_ != 0) {
#line 228 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 228 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 2271 "tracker-store.c"
		}
	}
#line 228 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_object_unref (_data_->_async_result);
#line 228 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return FALSE;
#line 2278 "tracker-store.c"
}


void
tracker_store_resume (void)
{
#line 236 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_active = TRUE;
#line 2287 "tracker-store.c"
}


static void
tracker_store_update_state (void)
{
	gboolean cur_busy = FALSE;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_;
	gboolean _tmp7_;
	gboolean _tmp8_;
	gboolean _tmp9_;
	gboolean _tmp10_;
#line 242 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp3_ = tracker_store_active;
#line 242 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (!_tmp3_) {
#line 242 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp2_ = TRUE;
#line 2309 "tracker-store.c"
	} else {
		gint _tmp4_;
#line 243 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp4_ = tracker_store_n_updates;
#line 243 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp2_ = _tmp4_ != 0;
#line 2316 "tracker-store.c"
	}
#line 242 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_tmp2_) {
#line 242 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp1_ = TRUE;
#line 2322 "tracker-store.c"
	} else {
		GThreadPool* _tmp5_;
#line 244 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp5_ = tracker_store_cursor_pool;
#line 244 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp1_ = g_thread_pool_unprocessed (_tmp5_) > ((guint) 0);
#line 2329 "tracker-store.c"
	}
#line 242 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_tmp1_) {
#line 242 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp0_ = TRUE;
#line 2335 "tracker-store.c"
	} else {
		GThreadPool* _tmp6_;
#line 245 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp6_ = tracker_store_cursor_pool;
#line 245 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp0_ = g_thread_pool_get_num_threads (_tmp6_) > ((guint) 0);
#line 2342 "tracker-store.c"
	}
#line 242 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	cur_busy = _tmp0_;
#line 247 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp7_ = tracker_store_busy;
#line 247 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp8_ = cur_busy;
#line 247 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_tmp7_ == _tmp8_) {
#line 248 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return;
#line 2354 "tracker-store.c"
	}
#line 250 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp9_ = cur_busy;
#line 250 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_busy = _tmp9_;
#line 251 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp10_ = tracker_store_busy;
#line 251 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (_tmp10_) {
#line 2364 "tracker-store.c"
		TrackerStoreStateCallback _tmp11_;
		void* _tmp11__target;
#line 252 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp11_ = tracker_store_busy_cb;
#line 252 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp11__target = tracker_store_busy_cb_target;
#line 252 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp11_ (_tmp11__target);
#line 2373 "tracker-store.c"
	} else {
		TrackerStoreStateCallback _tmp12_;
		void* _tmp12__target;
#line 254 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp12_ = tracker_store_idle_cb;
#line 254 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp12__target = tracker_store_idle_cb_target;
#line 254 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		_tmp12_ (_tmp12__target);
#line 2383 "tracker-store.c"
	}
}


static void
tracker_store_on_statements_committed (void)
{
#line 258 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_events_transact ();
#line 259 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_writeback_transact ();
#line 260 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_check_graph_updated_signal ();
#line 261 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_update_state ();
#line 2399 "tracker-store.c"
}


static void
tracker_store_on_statements_rolled_back (void)
{
#line 265 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_events_reset_pending ();
#line 266 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_writeback_reset_pending ();
#line 2410 "tracker-store.c"
}


static gboolean
___lambda10_ (void)
{
	gboolean result = FALSE;
#line 274 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_do_emit_signals ();
#line 275 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	result = FALSE;
#line 275 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return result;
#line 2424 "tracker-store.c"
}


static gboolean
____lambda10__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda10_ ();
#line 273 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return result;
#line 2435 "tracker-store.c"
}


static void
tracker_store_check_graph_updated_signal (void)
{
#line 271 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (tracker_events_get_total () > ((guint) TRACKER_STORE_GRAPH_UPDATED_IMMEDIATE_EMIT_AT)) {
#line 273 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ____lambda10__gsource_func, NULL, NULL);
#line 2446 "tracker-store.c"
	}
}


static void
tracker_store_on_statement_inserted (gint graph_id,
                                     const gchar* graph,
                                     gint subject_id,
                                     const gchar* subject,
                                     gint pred_id,
                                     gint object_id,
                                     const gchar* object,
                                     GPtrArray* rdf_types)
{
#line 280 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_if_fail (subject != NULL);
#line 280 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_if_fail (rdf_types != NULL);
#line 281 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_events_add_insert (graph_id, subject_id, subject, pred_id, object_id, object, rdf_types);
#line 282 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_writeback_check (graph_id, graph, subject_id, subject, pred_id, object_id, object, rdf_types);
#line 2469 "tracker-store.c"
}


static void
tracker_store_on_statement_deleted (gint graph_id,
                                    const gchar* graph,
                                    gint subject_id,
                                    const gchar* subject,
                                    gint pred_id,
                                    gint object_id,
                                    const gchar* object,
                                    GPtrArray* rdf_types)
{
#line 285 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_if_fail (subject != NULL);
#line 285 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_if_fail (rdf_types != NULL);
#line 286 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_events_add_delete (graph_id, subject_id, subject, pred_id, object_id, object, rdf_types);
#line 287 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_writeback_check (graph_id, graph, subject_id, subject, pred_id, object_id, object, rdf_types);
#line 2491 "tracker-store.c"
}


static void
_tracker_store_on_statement_inserted_tracker_statement_callback (gint graph_id,
                                                                 const gchar* graph,
                                                                 gint subject_id,
                                                                 const gchar* subject,
                                                                 gint predicate_id,
                                                                 gint object_id,
                                                                 const gchar* object,
                                                                 GPtrArray* rdf_types,
                                                                 gpointer self)
{
#line 293 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_on_statement_inserted (graph_id, graph, subject_id, subject, predicate_id, object_id, object, rdf_types);
#line 2508 "tracker-store.c"
}


static void
_tracker_store_on_statement_deleted_tracker_statement_callback (gint graph_id,
                                                                const gchar* graph,
                                                                gint subject_id,
                                                                const gchar* subject,
                                                                gint predicate_id,
                                                                gint object_id,
                                                                const gchar* object,
                                                                GPtrArray* rdf_types,
                                                                gpointer self)
{
#line 294 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_on_statement_deleted (graph_id, graph, subject_id, subject, predicate_id, object_id, object, rdf_types);
#line 2525 "tracker-store.c"
}


static void
_tracker_store_on_statements_committed_tracker_commit_callback (gpointer self)
{
#line 295 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_on_statements_committed ();
#line 2534 "tracker-store.c"
}


static void
_tracker_store_on_statements_rolled_back_tracker_commit_callback (gpointer self)
{
#line 296 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_on_statements_rolled_back ();
#line 2543 "tracker-store.c"
}


void
tracker_store_enable_signals (void)
{
	TrackerDataManager* data_manager = NULL;
	TrackerDataManager* _tmp0_;
	TrackerDataManager* _tmp1_;
	TrackerData* data = NULL;
	TrackerData* _tmp2_;
	TrackerData* _tmp3_;
#line 291 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = tracker_main_get_data_manager ();
#line 291 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 291 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	data_manager = _tmp1_;
#line 292 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp2_ = tracker_data_manager_get_data (data_manager);
#line 292 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 292 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	data = _tmp3_;
#line 293 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_data_add_insert_statement_callback (data, _tracker_store_on_statement_inserted_tracker_statement_callback, NULL);
#line 294 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_data_add_delete_statement_callback (data, _tracker_store_on_statement_deleted_tracker_statement_callback, NULL);
#line 295 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_data_add_commit_statement_callback (data, _tracker_store_on_statements_committed_tracker_commit_callback, NULL);
#line 296 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_data_add_rollback_statement_callback (data, _tracker_store_on_statements_rolled_back_tracker_commit_callback, NULL);
#line 290 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (data);
#line 290 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (data_manager);
#line 2580 "tracker-store.c"
}


void
tracker_store_disable_signals (void)
{
	TrackerDataManager* data_manager = NULL;
	TrackerDataManager* _tmp0_;
	TrackerDataManager* _tmp1_;
	TrackerData* data = NULL;
	TrackerData* _tmp2_;
	TrackerData* _tmp3_;
#line 300 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = tracker_main_get_data_manager ();
#line 300 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 300 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	data_manager = _tmp1_;
#line 301 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp2_ = tracker_data_manager_get_data (data_manager);
#line 301 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 301 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	data = _tmp3_;
#line 302 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_data_remove_insert_statement_callback (data, _tracker_store_on_statement_inserted_tracker_statement_callback, NULL);
#line 303 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_data_remove_delete_statement_callback (data, _tracker_store_on_statement_deleted_tracker_statement_callback, NULL);
#line 304 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_data_remove_commit_statement_callback (data, _tracker_store_on_statements_committed_tracker_commit_callback, NULL);
#line 305 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_data_remove_rollback_statement_callback (data, _tracker_store_on_statements_rolled_back_tracker_commit_callback, NULL);
#line 299 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (data);
#line 299 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (data_manager);
#line 2617 "tracker-store.c"
}


void
tracker_store_set_signal_callback (TrackerStoreSignalEmissionFunc func,
                                   gpointer func_target)
{
#line 309 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_signal_callback = func;
#line 309 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_signal_callback_target = func_target;
#line 2629 "tracker-store.c"
}


TrackerStore*
tracker_store_construct (GType object_type)
{
	TrackerStore* self = NULL;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	self = (TrackerStore*) g_type_create_instance (object_type);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return self;
#line 2641 "tracker-store.c"
}


TrackerStore*
tracker_store_new (void)
{
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return tracker_store_construct (TRACKER_TYPE_STORE);
#line 2650 "tracker-store.c"
}


static TrackerStoreCursorTask*
tracker_store_cursor_task_construct (GType object_type,
                                     TrackerSparqlCursor* cursor)
{
	TrackerStoreCursorTask* self = NULL;
	TrackerSparqlCursor* _tmp0_;
#line 53 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_val_if_fail (cursor != NULL, NULL);
#line 53 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	self = (TrackerStoreCursorTask*) g_type_create_instance (object_type);
#line 54 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_tmp0_ = _g_object_ref0 (cursor);
#line 54 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (self->cursor);
#line 54 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	self->cursor = _tmp0_;
#line 53 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return self;
#line 2672 "tracker-store.c"
}


static TrackerStoreCursorTask*
tracker_store_cursor_task_new (TrackerSparqlCursor* cursor)
{
#line 53 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return tracker_store_cursor_task_construct (TRACKER_STORE_TYPE_CURSOR_TASK, cursor);
#line 2681 "tracker-store.c"
}


static void
tracker_store_value_cursor_task_init (GValue* value)
{
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	value->data[0].v_pointer = NULL;
#line 2690 "tracker-store.c"
}


static void
tracker_store_value_cursor_task_free_value (GValue* value)
{
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (value->data[0].v_pointer) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_cursor_task_unref (value->data[0].v_pointer);
#line 2701 "tracker-store.c"
	}
}


static void
tracker_store_value_cursor_task_copy_value (const GValue* src_value,
                                            GValue* dest_value)
{
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (src_value->data[0].v_pointer) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		dest_value->data[0].v_pointer = tracker_store_cursor_task_ref (src_value->data[0].v_pointer);
#line 2714 "tracker-store.c"
	} else {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		dest_value->data[0].v_pointer = NULL;
#line 2718 "tracker-store.c"
	}
}


static gpointer
tracker_store_value_cursor_task_peek_pointer (const GValue* value)
{
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return value->data[0].v_pointer;
#line 2728 "tracker-store.c"
}


static gchar*
tracker_store_value_cursor_task_collect_value (GValue* value,
                                               guint n_collect_values,
                                               GTypeCValue* collect_values,
                                               guint collect_flags)
{
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (collect_values[0].v_pointer) {
#line 2740 "tracker-store.c"
		TrackerStoreCursorTask * object;
		object = collect_values[0].v_pointer;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		if (object->parent_instance.g_class == NULL) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 2747 "tracker-store.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 2751 "tracker-store.c"
		}
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = tracker_store_cursor_task_ref (object);
#line 2755 "tracker-store.c"
	} else {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = NULL;
#line 2759 "tracker-store.c"
	}
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return NULL;
#line 2763 "tracker-store.c"
}


static gchar*
tracker_store_value_cursor_task_lcopy_value (const GValue* value,
                                             guint n_collect_values,
                                             GTypeCValue* collect_values,
                                             guint collect_flags)
{
	TrackerStoreCursorTask ** object_p;
	object_p = collect_values[0].v_pointer;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (!object_p) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 2779 "tracker-store.c"
	}
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (!value->data[0].v_pointer) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		*object_p = NULL;
#line 2785 "tracker-store.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		*object_p = value->data[0].v_pointer;
#line 2789 "tracker-store.c"
	} else {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		*object_p = tracker_store_cursor_task_ref (value->data[0].v_pointer);
#line 2793 "tracker-store.c"
	}
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return NULL;
#line 2797 "tracker-store.c"
}


static GParamSpec*
tracker_store_param_spec_cursor_task (const gchar* name,
                                      const gchar* nick,
                                      const gchar* blurb,
                                      GType object_type,
                                      GParamFlags flags)
{
	TrackerStoreParamSpecCursorTask* spec;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_val_if_fail (g_type_is_a (object_type, TRACKER_STORE_TYPE_CURSOR_TASK), NULL);
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return G_PARAM_SPEC (spec);
#line 2817 "tracker-store.c"
}


static gpointer
tracker_store_value_get_cursor_task (const GValue* value)
{
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TRACKER_STORE_TYPE_CURSOR_TASK), NULL);
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return value->data[0].v_pointer;
#line 2828 "tracker-store.c"
}


static void
tracker_store_value_set_cursor_task (GValue* value,
                                     gpointer v_object)
{
	TrackerStoreCursorTask * old;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TRACKER_STORE_TYPE_CURSOR_TASK));
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	old = value->data[0].v_pointer;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (v_object) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TRACKER_STORE_TYPE_CURSOR_TASK));
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = v_object;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_cursor_task_ref (value->data[0].v_pointer);
#line 2851 "tracker-store.c"
	} else {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = NULL;
#line 2855 "tracker-store.c"
	}
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (old) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_cursor_task_unref (old);
#line 2861 "tracker-store.c"
	}
}


static void
tracker_store_value_take_cursor_task (GValue* value,
                                      gpointer v_object)
{
	TrackerStoreCursorTask * old;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TRACKER_STORE_TYPE_CURSOR_TASK));
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	old = value->data[0].v_pointer;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (v_object) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TRACKER_STORE_TYPE_CURSOR_TASK));
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = v_object;
#line 2883 "tracker-store.c"
	} else {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = NULL;
#line 2887 "tracker-store.c"
	}
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (old) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_cursor_task_unref (old);
#line 2893 "tracker-store.c"
	}
}


static void
tracker_store_cursor_task_class_init (TrackerStoreCursorTaskClass * klass)
{
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_cursor_task_parent_class = g_type_class_peek_parent (klass);
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	((TrackerStoreCursorTaskClass *) klass)->finalize = tracker_store_cursor_task_finalize;
#line 2905 "tracker-store.c"
}


static void
tracker_store_cursor_task_instance_init (TrackerStoreCursorTask * self)
{
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	self->ref_count = 1;
#line 2914 "tracker-store.c"
}


static void
tracker_store_cursor_task_finalize (TrackerStoreCursorTask * obj)
{
	TrackerStoreCursorTask * self;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TRACKER_STORE_TYPE_CURSOR_TASK, TrackerStoreCursorTask);
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_signal_handlers_destroy (self);
#line 48 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_object_unref0 (self->cursor);
#line 51 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	_g_error_free0 (self->error);
#line 2930 "tracker-store.c"
}


static GType
tracker_store_cursor_task_get_type (void)
{
	static volatile gsize tracker_store_cursor_task_type_id__volatile = 0;
	if (g_once_init_enter (&tracker_store_cursor_task_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { tracker_store_value_cursor_task_init, tracker_store_value_cursor_task_free_value, tracker_store_value_cursor_task_copy_value, tracker_store_value_cursor_task_peek_pointer, "p", tracker_store_value_cursor_task_collect_value, "p", tracker_store_value_cursor_task_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (TrackerStoreCursorTaskClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) tracker_store_cursor_task_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TrackerStoreCursorTask), 0, (GInstanceInitFunc) tracker_store_cursor_task_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType tracker_store_cursor_task_type_id;
		tracker_store_cursor_task_type_id = g_type_register_fundamental (g_type_fundamental_next (), "TrackerStoreCursorTask", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&tracker_store_cursor_task_type_id__volatile, tracker_store_cursor_task_type_id);
	}
	return tracker_store_cursor_task_type_id__volatile;
}


static gpointer
tracker_store_cursor_task_ref (gpointer instance)
{
	TrackerStoreCursorTask * self;
	self = instance;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_atomic_int_inc (&self->ref_count);
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return instance;
#line 2959 "tracker-store.c"
}


static void
tracker_store_cursor_task_unref (gpointer instance)
{
	TrackerStoreCursorTask * self;
	self = instance;
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		TRACKER_STORE_CURSOR_TASK_GET_CLASS (self)->finalize (self);
#line 47 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 2974 "tracker-store.c"
	}
}


static void
tracker_value_store_init (GValue* value)
{
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	value->data[0].v_pointer = NULL;
#line 2984 "tracker-store.c"
}


static void
tracker_value_store_free_value (GValue* value)
{
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (value->data[0].v_pointer) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_unref (value->data[0].v_pointer);
#line 2995 "tracker-store.c"
	}
}


static void
tracker_value_store_copy_value (const GValue* src_value,
                                GValue* dest_value)
{
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (src_value->data[0].v_pointer) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		dest_value->data[0].v_pointer = tracker_store_ref (src_value->data[0].v_pointer);
#line 3008 "tracker-store.c"
	} else {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		dest_value->data[0].v_pointer = NULL;
#line 3012 "tracker-store.c"
	}
}


static gpointer
tracker_value_store_peek_pointer (const GValue* value)
{
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return value->data[0].v_pointer;
#line 3022 "tracker-store.c"
}


static gchar*
tracker_value_store_collect_value (GValue* value,
                                   guint n_collect_values,
                                   GTypeCValue* collect_values,
                                   guint collect_flags)
{
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (collect_values[0].v_pointer) {
#line 3034 "tracker-store.c"
		TrackerStore * object;
		object = collect_values[0].v_pointer;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		if (object->parent_instance.g_class == NULL) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 3041 "tracker-store.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 3045 "tracker-store.c"
		}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = tracker_store_ref (object);
#line 3049 "tracker-store.c"
	} else {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = NULL;
#line 3053 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return NULL;
#line 3057 "tracker-store.c"
}


static gchar*
tracker_value_store_lcopy_value (const GValue* value,
                                 guint n_collect_values,
                                 GTypeCValue* collect_values,
                                 guint collect_flags)
{
	TrackerStore ** object_p;
	object_p = collect_values[0].v_pointer;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (!object_p) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 3073 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (!value->data[0].v_pointer) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		*object_p = NULL;
#line 3079 "tracker-store.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		*object_p = value->data[0].v_pointer;
#line 3083 "tracker-store.c"
	} else {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		*object_p = tracker_store_ref (value->data[0].v_pointer);
#line 3087 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return NULL;
#line 3091 "tracker-store.c"
}


GParamSpec*
tracker_param_spec_store (const gchar* name,
                          const gchar* nick,
                          const gchar* blurb,
                          GType object_type,
                          GParamFlags flags)
{
	TrackerParamSpecStore* spec;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_val_if_fail (g_type_is_a (object_type, TRACKER_TYPE_STORE), NULL);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return G_PARAM_SPEC (spec);
#line 3111 "tracker-store.c"
}


gpointer
tracker_value_get_store (const GValue* value)
{
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TRACKER_TYPE_STORE), NULL);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return value->data[0].v_pointer;
#line 3122 "tracker-store.c"
}


void
tracker_value_set_store (GValue* value,
                         gpointer v_object)
{
	TrackerStore * old;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TRACKER_TYPE_STORE));
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	old = value->data[0].v_pointer;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (v_object) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TRACKER_TYPE_STORE));
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = v_object;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_ref (value->data[0].v_pointer);
#line 3145 "tracker-store.c"
	} else {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = NULL;
#line 3149 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (old) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_unref (old);
#line 3155 "tracker-store.c"
	}
}


void
tracker_value_take_store (GValue* value,
                          gpointer v_object)
{
	TrackerStore * old;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TRACKER_TYPE_STORE));
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	old = value->data[0].v_pointer;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (v_object) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TRACKER_TYPE_STORE));
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = v_object;
#line 3177 "tracker-store.c"
	} else {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		value->data[0].v_pointer = NULL;
#line 3181 "tracker-store.c"
	}
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (old) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		tracker_store_unref (old);
#line 3187 "tracker-store.c"
	}
}


static void
tracker_store_class_init (TrackerStoreClass * klass)
{
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	tracker_store_parent_class = g_type_class_peek_parent (klass);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	((TrackerStoreClass *) klass)->finalize = tracker_store_finalize;
#line 3199 "tracker-store.c"
}


static void
tracker_store_instance_init (TrackerStore * self)
{
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	self->ref_count = 1;
#line 3208 "tracker-store.c"
}


static void
tracker_store_finalize (TrackerStore * obj)
{
	TrackerStore * self;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TRACKER_TYPE_STORE, TrackerStore);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_signal_handlers_destroy (self);
#line 3220 "tracker-store.c"
}


GType
tracker_store_get_type (void)
{
	static volatile gsize tracker_store_type_id__volatile = 0;
	if (g_once_init_enter (&tracker_store_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { tracker_value_store_init, tracker_value_store_free_value, tracker_value_store_copy_value, tracker_value_store_peek_pointer, "p", tracker_value_store_collect_value, "p", tracker_value_store_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (TrackerStoreClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) tracker_store_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TrackerStore), 0, (GInstanceInitFunc) tracker_store_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType tracker_store_type_id;
		tracker_store_type_id = g_type_register_fundamental (g_type_fundamental_next (), "TrackerStore", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&tracker_store_type_id__volatile, tracker_store_type_id);
	}
	return tracker_store_type_id__volatile;
}


gpointer
tracker_store_ref (gpointer instance)
{
	TrackerStore * self;
	self = instance;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	g_atomic_int_inc (&self->ref_count);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	return instance;
#line 3249 "tracker-store.c"
}


void
tracker_store_unref (gpointer instance)
{
	TrackerStore * self;
	self = instance;
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		TRACKER_STORE_GET_CLASS (self)->finalize (self);
#line 22 "/home/sumaid/gsoc/tracker/src/tracker-store/tracker-store.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 3264 "tracker-store.c"
	}
}



